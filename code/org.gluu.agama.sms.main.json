{
	"nodes": [
		{
			"data": {
				"agamaData": {
					"isTopLevelFlow": true,
					"basepath": "",
					"configParams": "{\n  \"ACCOUNT_SID\": \"PUT_YOUR_TWILIO_ACCOUNT_SID_HERE\",\n  \"AUTH_TOKEN\": \"PUT_YOUR_TWILIO_AUTH_TOKEN_HERE\",\n  \"FROM_NUMBER\": \"PUT_YOUR_TWILIO_FROM_NUMBER_HERE\"\n}",
					"creationDate": "01/10/2024",
					"nodeIcon": "material-symbols:line-start-square",
					"timeout": "700",
					"inputs": "",
					"configs": "conf",
					"flowname": "org.gluu.agama.sms.main",
					"displayName": "Login flow",
					"hasComment": true,
					"comment": "Start the excecution of the main flow"
				},
				"id": "startNode-66e012a4-517c-45ad-9e30-5a1c5982682f",
				"type": "startNode",
				"position": {
					"x": 50,
					"y": 200
				}
			},
			"type": "startNode",
			"id": "startNode-66e012a4-517c-45ad-9e30-5a1c5982682f",
			"position": {
				"x": 50,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:equal",
					"displayName": "Create variables",
					"hasComment": true,
					"comment": "Create variable to receive validation result.",
					"assignments": [
						{
							"variableTypeCheck": false,
							"assignmentExpression": "{}",
							"assignedVariableName": "validationResult"
						}
					]
				},
				"id": "assignmentNode-4cca2917-05d3-4c52-9157-5127fc42ffdb",
				"type": "assignmentNode",
				"position": {
					"x": 300,
					"y": 200
				},
				"previousNodeId": "startNode-66e012a4-517c-45ad-9e30-5a1c5982682f"
			},
			"type": "assignmentNode",
			"id": "assignmentNode-4cca2917-05d3-4c52-9157-5127fc42ffdb",
			"position": {
				"x": 300,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:code",
					"displayName": "Init OTP Service",
					"hasComment": true,
					"comment": "Get an instance of OTPService Class.\n",
					"javaClassName": "org.gluu.agama.sms.OTPService",
					"javaMethodName": "getInstance",
					"javaVariableName": "",
					"exceptionVariableField": "",
					"callType": "Call static method",
					"arguments": [
						"conf"
					],
					"asssignedVariableName": "otpService"
				},
				"id": "callNode-9ddadea2-1330-47c3-ba86-f7e78b42d9d9",
				"type": "callNode",
				"position": {
					"x": 550,
					"y": 200
				},
				"previousNodeId": "assignmentNode-4cca2917-05d3-4c52-9157-5127fc42ffdb"
			},
			"type": "callNode",
			"id": "callNode-9ddadea2-1330-47c3-ba86-f7e78b42d9d9",
			"position": {
				"x": 550,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:event-repeat-outline-rounded",
					"displayName": "Login Loop",
					"hasComment": true,
					"comment": "Iterate x times maximum.",
					"maxIteration": "3",
					"maxIterationVariableName": "count"
				},
				"id": "repeatNode-27827bc4-2f5d-4328-9372-9b3459e8ed84",
				"type": "repeatNode",
				"position": {
					"x": 800,
					"y": 200
				},
				"previousNodeId": "callNode-9ddadea2-1330-47c3-ba86-f7e78b42d9d9"
			},
			"type": "repeatNode",
			"id": "repeatNode-27827bc4-2f5d-4328-9372-9b3459e8ed84",
			"position": {
				"x": 800,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "Log maximun attempt",
					"hasComment": true,
					"comment": "Maximum attempts reached. Password validation failed!",
					"logMessage": "\"Maximum attempts reached. Password validation failed!\"",
					"logLevel": "info"
				},
				"id": "logNode-873a18c7-29d2-4e74-8192-a4bbb3285a9e",
				"type": "logNode",
				"position": {
					"x": 1050,
					"y": 200
				},
				"previousNodeId": "repeatNode-27827bc4-2f5d-4328-9372-9b3459e8ed84",
				"branching": "continue"
			},
			"type": "logNode",
			"id": "logNode-873a18c7-29d2-4e74-8192-a4bbb3285a9e",
			"position": {
				"x": 1050,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:line-end-square-rounded",
					"displayName": "Validation Failed",
					"hasComment": true,
					"comment": "Maximum attempts reached. Password validation failed!",
					"returnVariable": "Password validation failed!",
					"finishMode": "withFailure"
				},
				"id": "finishNode-54fbc720-fc22-4e6f-ac30-8fca161b4263",
				"type": "finishNode",
				"position": {
					"x": 1300,
					"y": 200
				},
				"previousNodeId": "logNode-873a18c7-29d2-4e74-8192-a4bbb3285a9e"
			},
			"type": "finishNode",
			"id": "finishNode-54fbc720-fc22-4e6f-ac30-8fca161b4263",
			"position": {
				"x": 1300,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "ph:globe-simple",
					"displayName": "Collect credentials",
					"hasComment": true,
					"comment": "Retrieve user credentials from UI.",
					"arguments": [
						"validationResult"
					],
					"templatePath": "login.ftlh",
					"asssignedVariableName": "credentials"
				},
				"id": "rrfNode-94706a5c-6c83-4cff-9b86-2116405e98be",
				"type": "rrfNode",
				"position": {
					"x": 1050,
					"y": 450
				},
				"previousNodeId": "repeatNode-27827bc4-2f5d-4328-9372-9b3459e8ed84",
				"branching": "repeat"
			},
			"type": "rrfNode",
			"id": "rrfNode-94706a5c-6c83-4cff-9b86-2116405e98be",
			"position": {
				"x": 1050,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "Log",
					"hasComment": true,
					"comment": "Log the successfull  used credentials retrieval.",
					"logMessage": "\"Log the successfull  used credentials retrieval.\"",
					"logLevel": "info"
				},
				"id": "logNode-f9442eb2-431c-4418-ad8a-c8e7bc08547e",
				"type": "logNode",
				"position": {
					"x": 1300,
					"y": 450
				},
				"previousNodeId": "rrfNode-94706a5c-6c83-4cff-9b86-2116405e98be"
			},
			"type": "logNode",
			"id": "logNode-f9442eb2-431c-4418-ad8a-c8e7bc08547e",
			"position": {
				"x": 1300,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:code",
					"displayName": "Validate",
					"hasComment": true,
					"comment": "Validate provided user credentials.",
					"javaClassName": "",
					"javaMethodName": "validateCreds",
					"javaVariableName": "otpService",
					"exceptionVariableField": "",
					"callType": "Call method on instance",
					"arguments": [
						"credentials.username",
						"credentials.password"
					],
					"asssignedVariableName": "validationResult.status"
				},
				"id": "callNode-5a2becba-24bf-48ee-b317-a7268c9ec536",
				"type": "callNode",
				"position": {
					"x": 1550,
					"y": 450
				},
				"previousNodeId": "logNode-f9442eb2-431c-4418-ad8a-c8e7bc08547e"
			},
			"type": "callNode",
			"id": "callNode-5a2becba-24bf-48ee-b317-a7268c9ec536",
			"position": {
				"x": 1550,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"hasComment": true,
					"comment": "If user credentials is valid",
					"conditions": [
						{
							"variable": "validationResult.status",
							"operator": "is",
							"dataValue": "true",
							"combinator": "none"
						}
					]
				},
				"id": "whenNode-2750493a-9ab0-4440-879f-9491afa5f522",
				"type": "whenNode",
				"position": {
					"x": 1800,
					"y": 450
				},
				"previousNodeId": "callNode-5a2becba-24bf-48ee-b317-a7268c9ec536"
			},
			"type": "whenNode",
			"id": "whenNode-2750493a-9ab0-4440-879f-9491afa5f522",
			"position": {
				"x": 1800,
				"y": 450
			},
			"measured": {
				"width": 110,
				"height": 60
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "Invalid credentials",
					"hasComment": true,
					"comment": "Invalid credentials provided.",
					"logMessage": "\"Invalid credentials provided.\"",
					"logLevel": "error"
				},
				"id": "logNode-b6b68948-9d9c-4727-9337-12b43845bb81",
				"type": "logNode",
				"position": {
					"x": 2050,
					"y": 450
				},
				"previousNodeId": "whenNode-2750493a-9ab0-4440-879f-9491afa5f522",
				"branching": "continue"
			},
			"type": "logNode",
			"id": "logNode-b6b68948-9d9c-4727-9337-12b43845bb81",
			"position": {
				"x": 2050,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:equal",
					"displayName": "Provide Feedback",
					"hasComment": true,
					"comment": "Provide feedback about the error message to user.",
					"assignments": [
						{
							"variableTypeCheck": false,
							"assignmentExpression": "\"The provided credentials are not valid. Please try again!\"",
							"assignedVariableName": "validationResult.errorMessage"
						}
					]
				},
				"id": "assignmentNode-8bdabd4d-12db-473f-bb52-d78cee2553e0",
				"type": "assignmentNode",
				"position": {
					"x": 2300,
					"y": 450
				},
				"previousNodeId": "logNode-b6b68948-9d9c-4727-9337-12b43845bb81"
			},
			"type": "assignmentNode",
			"id": "assignmentNode-8bdabd4d-12db-473f-bb52-d78cee2553e0",
			"position": {
				"x": 2300,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "Log successfull attempt",
					"hasComment": true,
					"comment": "add entry in log file for successfull login attempt.",
					"logMessage": "\"Valid credentials provided for user: \" credentials.username",
					"logLevel": "info"
				},
				"id": "logNode-0a77eb07-5f88-4999-a3bd-7c10cf807afd",
				"type": "logNode",
				"position": {
					"x": 2050,
					"y": 700
				},
				"previousNodeId": "whenNode-2750493a-9ab0-4440-879f-9491afa5f522",
				"branching": "success"
			},
			"type": "logNode",
			"id": "logNode-0a77eb07-5f88-4999-a3bd-7c10cf807afd",
			"position": {
				"x": 2050,
				"y": 700
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:code",
					"displayName": "Send OTP Code to user",
					"hasComment": true,
					"comment": "Generate and send OTP code to authenticated user.",
					"javaClassName": "",
					"javaMethodName": "sendOTPCode",
					"javaVariableName": "otpService",
					"exceptionVariableField": "",
					"callType": "Call method on instance",
					"arguments": [
						"credentials.username"
					],
					"asssignedVariableName": "maskedPhone"
				},
				"id": "callNode-1f29991a-c0e2-4407-9d45-a840f3126c0d",
				"type": "callNode",
				"position": {
					"x": 2300,
					"y": 700
				},
				"previousNodeId": "logNode-0a77eb07-5f88-4999-a3bd-7c10cf807afd"
			},
			"type": "callNode",
			"id": "callNode-1f29991a-c0e2-4407-9d45-a840f3126c0d",
			"position": {
				"x": 2300,
				"y": 700
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:equal",
					"displayName": "Define username",
					"hasComment": true,
					"comment": "Assign username variable.",
					"assignments": [
						{
							"variableTypeCheck": false,
							"assignmentExpression": "credentials.username",
							"assignedVariableName": "username"
						}
					]
				},
				"id": "assignmentNode-780d5bf4-01e3-4184-bc61-da7c8aeb5934",
				"type": "assignmentNode",
				"position": {
					"x": 2550,
					"y": 700
				},
				"previousNodeId": "callNode-1f29991a-c0e2-4407-9d45-a840f3126c0d"
			},
			"type": "assignmentNode",
			"id": "assignmentNode-780d5bf4-01e3-4184-bc61-da7c8aeb5934",
			"position": {
				"x": 2550,
				"y": 700
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"hasComment": true,
					"comment": "User has a phone number setup",
					"conditions": [
						{
							"variable": "maskedPhone",
							"operator": "is not",
							"dataValue": "null",
							"combinator": "none"
						}
					]
				},
				"id": "whenNode-f2949766-f91b-4907-9592-1f4cdf4885e5",
				"type": "whenNode",
				"position": {
					"x": 2800,
					"y": 700
				},
				"previousNodeId": "assignmentNode-780d5bf4-01e3-4184-bc61-da7c8aeb5934"
			},
			"type": "whenNode",
			"id": "whenNode-f2949766-f91b-4907-9592-1f4cdf4885e5",
			"position": {
				"x": 2800,
				"y": 700
			},
			"measured": {
				"width": 110,
				"height": 60
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "Log missing phone number",
					"hasComment": true,
					"comment": "TP Code validation is completed.",
					"logMessage": "\"The following user don't has a phone number : \" username",
					"logLevel": "info"
				},
				"id": "logNode-f43218b9-8520-45e1-848d-b7c8eea832e4",
				"type": "logNode",
				"position": {
					"x": 3050,
					"y": 450
				},
				"previousNodeId": "whenNode-f2949766-f91b-4907-9592-1f4cdf4885e5",
				"branching": "otherwise"
			},
			"type": "logNode",
			"id": "logNode-f43218b9-8520-45e1-848d-b7c8eea832e4",
			"position": {
				"x": 3050,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "fluent-mdl2:trigger-approval",
					"displayName": "Phone Registration",
					"hasComment": true,
					"comment": "Launch phone number registration subflow.",
					"flowFileName": "org.gluu.agama.register",
					"arguments": [
						"otpService",
						"username"
					],
					"asssignedVariableName": "phoneRegistration",
					"exceptionVariableField": ""
				},
				"id": "triggerNode-5fdb9dd7-be8c-4ae9-b41c-96480752f03b",
				"type": "triggerNode",
				"position": {
					"x": 3300,
					"y": 450
				},
				"previousNodeId": "logNode-f43218b9-8520-45e1-848d-b7c8eea832e4"
			},
			"type": "triggerNode",
			"id": "triggerNode-5fdb9dd7-be8c-4ae9-b41c-96480752f03b",
			"position": {
				"x": 3300,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "Log phone registration result",
					"hasComment": true,
					"comment": "Log phone registration result",
					"logMessage": "\"Phone number registration done\"",
					"logLevel": "info"
				},
				"id": "logNode-16bcb207-eeb3-4de6-bddf-fc0192d4780b",
				"type": "logNode",
				"position": {
					"x": 3550,
					"y": 450
				},
				"previousNodeId": "triggerNode-5fdb9dd7-be8c-4ae9-b41c-96480752f03b"
			},
			"type": "logNode",
			"id": "logNode-16bcb207-eeb3-4de6-bddf-fc0192d4780b",
			"position": {
				"x": 3550,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:code",
					"displayName": "Send OTP Code to user",
					"hasComment": true,
					"comment": "",
					"javaClassName": "",
					"javaMethodName": "sendOTPCode",
					"javaVariableName": "otpService",
					"exceptionVariableField": "",
					"callType": "Call method on instance",
					"arguments": [
						"credentials.username"
					],
					"asssignedVariableName": "maskedPhone"
				},
				"id": "callNode-a0435f70-4603-4519-8106-a45be3e84fba",
				"type": "callNode",
				"position": {
					"x": 3800,
					"y": 450
				},
				"previousNodeId": "logNode-16bcb207-eeb3-4de6-bddf-fc0192d4780b"
			},
			"type": "callNode",
			"id": "callNode-a0435f70-4603-4519-8106-a45be3e84fba",
			"position": {
				"x": 3800,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "fluent-mdl2:trigger-approval",
					"displayName": "Trigger OTP subflow",
					"hasComment": true,
					"comment": "Trigger OTP subflow",
					"flowFileName": "org.gluu.agama.sms.otp",
					"arguments": [
						"otpService",
						"username",
						"maskedPhone"
					],
					"asssignedVariableName": "otpFeedBack",
					"exceptionVariableField": ""
				},
				"id": "triggerNode-06407e94-aa62-4a6d-8156-5ca9cbc44e98",
				"type": "triggerNode",
				"position": {
					"x": 4050,
					"y": 450
				},
				"previousNodeId": "callNode-a0435f70-4603-4519-8106-a45be3e84fba"
			},
			"type": "triggerNode",
			"id": "triggerNode-06407e94-aa62-4a6d-8156-5ca9cbc44e98",
			"position": {
				"x": 4050,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"hasComment": true,
					"comment": "Check if OTP validation is okay",
					"conditions": [
						{
							"variable": "otpFeedBack.success",
							"operator": "is",
							"dataValue": "true",
							"combinator": "none"
						}
					]
				},
				"id": "whenNode-63aa4d16-2632-4e8b-aa18-61e62988ec4f",
				"type": "whenNode",
				"position": {
					"x": 4300,
					"y": 450
				},
				"previousNodeId": "triggerNode-06407e94-aa62-4a6d-8156-5ca9cbc44e98"
			},
			"type": "whenNode",
			"id": "whenNode-63aa4d16-2632-4e8b-aa18-61e62988ec4f",
			"position": {
				"x": 4300,
				"y": 450
			},
			"measured": {
				"width": 110,
				"height": 60
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:line-end-square-rounded",
					"displayName": "Closing the flow with error",
					"hasComment": true,
					"comment": "Closing the main flow with error.",
					"returnVariable": "The flow has been completed with error.",
					"finishMode": "withFailure"
				},
				"id": "finishNode-d3a08f43-d937-47d3-bd13-5442bae89795",
				"type": "finishNode",
				"position": {
					"x": 4550,
					"y": 200
				},
				"previousNodeId": "whenNode-63aa4d16-2632-4e8b-aa18-61e62988ec4f",
				"branching": "otherwise"
			},
			"type": "finishNode",
			"id": "finishNode-d3a08f43-d937-47d3-bd13-5442bae89795",
			"position": {
				"x": 4550,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:line-end-square-rounded",
					"displayName": "Closing the flow successfully",
					"hasComment": true,
					"comment": "The main flow has completed successfully.",
					"returnVariable": "{ userId: credentials.username}",
					"finishMode": "withSuccess"
				},
				"id": "finishNode-67d8e124-15a2-4e17-bdee-ee8e1cc5b159",
				"type": "finishNode",
				"position": {
					"x": 4550,
					"y": 700
				},
				"previousNodeId": "whenNode-63aa4d16-2632-4e8b-aa18-61e62988ec4f",
				"branching": "success"
			},
			"type": "finishNode",
			"id": "finishNode-67d8e124-15a2-4e17-bdee-ee8e1cc5b159",
			"position": {
				"x": 4550,
				"y": 700
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "OTP code send",
					"hasComment": true,
					"comment": "The OTP Code has been send to user.",
					"logMessage": "\"OTP generated and send to: \" maskedPhone",
					"logLevel": "info"
				},
				"id": "logNode-d172a3f5-eda9-4f27-8855-10774ae37db0",
				"type": "logNode",
				"position": {
					"x": 3050,
					"y": 950
				},
				"previousNodeId": "whenNode-f2949766-f91b-4907-9592-1f4cdf4885e5",
				"branching": "success"
			},
			"type": "logNode",
			"id": "logNode-d172a3f5-eda9-4f27-8855-10774ae37db0",
			"position": {
				"x": 3050,
				"y": 950
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "fluent-mdl2:trigger-approval",
					"displayName": "Launch OTP Subflow",
					"hasComment": true,
					"comment": "Trigger OTP subflow",
					"flowFileName": "org.gluu.agama.sms.otp",
					"arguments": [
						"otpService",
						"username",
						"maskedPhone"
					],
					"asssignedVariableName": "otpFeedBack",
					"exceptionVariableField": ""
				},
				"id": "triggerNode-5b30962d-90c8-4db9-accf-bfdeb4fe6a67",
				"type": "triggerNode",
				"position": {
					"x": 3300,
					"y": 950
				},
				"previousNodeId": "logNode-d172a3f5-eda9-4f27-8855-10774ae37db0"
			},
			"type": "triggerNode",
			"id": "triggerNode-5b30962d-90c8-4db9-accf-bfdeb4fe6a67",
			"position": {
				"x": 3300,
				"y": 950
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "Log SMS OTP result",
					"hasComment": true,
					"comment": "OTP Code validation is completed.",
					"logMessage": "\"OTP Code validation completed with status: \" otpFeedBack",
					"logLevel": "info"
				},
				"id": "logNode-eef22c0a-596d-4ba9-bc7c-622ae5ac8a58",
				"type": "logNode",
				"position": {
					"x": 3550,
					"y": 950
				},
				"previousNodeId": "triggerNode-5b30962d-90c8-4db9-accf-bfdeb4fe6a67"
			},
			"type": "logNode",
			"id": "logNode-eef22c0a-596d-4ba9-bc7c-622ae5ac8a58",
			"position": {
				"x": 3550,
				"y": 950
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"hasComment": true,
					"comment": "Check if OTP validation vas okay",
					"conditions": [
						{
							"variable": "otpFeedBack.success",
							"operator": "is",
							"dataValue": "true",
							"combinator": "none"
						}
					]
				},
				"id": "whenNode-241aaf48-1ce0-441a-8381-060ba52649a5",
				"type": "whenNode",
				"position": {
					"x": 3800,
					"y": 950
				},
				"previousNodeId": "logNode-eef22c0a-596d-4ba9-bc7c-622ae5ac8a58"
			},
			"type": "whenNode",
			"id": "whenNode-241aaf48-1ce0-441a-8381-060ba52649a5",
			"position": {
				"x": 3800,
				"y": 950
			},
			"measured": {
				"width": 110,
				"height": 60
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:line-end-square-rounded",
					"displayName": "The flow has been completed with error.",
					"hasComment": true,
					"comment": "Closing the main flow with error.",
					"returnVariable": "Your error message here",
					"finishMode": "withFailure"
				},
				"id": "finishNode-f2c7606d-eb2f-47af-ad22-af0047c68f1b",
				"type": "finishNode",
				"position": {
					"x": 4050,
					"y": 700
				},
				"previousNodeId": "whenNode-241aaf48-1ce0-441a-8381-060ba52649a5",
				"branching": "otherwise"
			},
			"type": "finishNode",
			"id": "finishNode-f2c7606d-eb2f-47af-ad22-af0047c68f1b",
			"position": {
				"x": 4050,
				"y": 700
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:line-end-square-rounded",
					"displayName": "Close flow successfully",
					"hasComment": true,
					"comment": "The main flow has completed successfully.",
					"returnVariable": "{ userId: credentials.username}",
					"finishMode": "withSuccess"
				},
				"id": "finishNode-34c383cb-b96d-4992-a5f3-d1f3987d63f3",
				"type": "finishNode",
				"position": {
					"x": 4050,
					"y": 1200
				},
				"previousNodeId": "whenNode-241aaf48-1ce0-441a-8381-060ba52649a5",
				"branching": "success"
			},
			"type": "finishNode",
			"id": "finishNode-34c383cb-b96d-4992-a5f3-d1f3987d63f3",
			"position": {
				"x": 4050,
				"y": 1200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		}
	],
	"edges": [
		{
			"id": "startNode-66e012a4-517c-45ad-9e30-5a1c5982682f-assignmentNode-4cca2917-05d3-4c52-9157-5127fc42ffdb",
			"type": "default",
			"source": "startNode-66e012a4-517c-45ad-9e30-5a1c5982682f",
			"target": "assignmentNode-4cca2917-05d3-4c52-9157-5127fc42ffdb",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_startNode-66e012a4-517c-45ad-9e30-5a1c5982682f"
		},
		{
			"id": "assignmentNode-4cca2917-05d3-4c52-9157-5127fc42ffdb-callNode-9ddadea2-1330-47c3-ba86-f7e78b42d9d9",
			"type": "default",
			"source": "assignmentNode-4cca2917-05d3-4c52-9157-5127fc42ffdb",
			"target": "callNode-9ddadea2-1330-47c3-ba86-f7e78b42d9d9",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_assignmentNode-4cca2917-05d3-4c52-9157-5127fc42ffdb"
		},
		{
			"id": "callNode-9ddadea2-1330-47c3-ba86-f7e78b42d9d9-repeatNode-27827bc4-2f5d-4328-9372-9b3459e8ed84",
			"type": "default",
			"source": "callNode-9ddadea2-1330-47c3-ba86-f7e78b42d9d9",
			"target": "repeatNode-27827bc4-2f5d-4328-9372-9b3459e8ed84",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_callNode-9ddadea2-1330-47c3-ba86-f7e78b42d9d9"
		},
		{
			"id": "repeatNode-27827bc4-2f5d-4328-9372-9b3459e8ed84-logNode-873a18c7-29d2-4e74-8192-a4bbb3285a9e",
			"type": "default",
			"source": "repeatNode-27827bc4-2f5d-4328-9372-9b3459e8ed84",
			"target": "logNode-873a18c7-29d2-4e74-8192-a4bbb3285a9e",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "continue",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_repeatNode-27827bc4-2f5d-4328-9372-9b3459e8ed84_continue"
		},
		{
			"id": "logNode-873a18c7-29d2-4e74-8192-a4bbb3285a9e-finishNode-54fbc720-fc22-4e6f-ac30-8fca161b4263",
			"type": "default",
			"source": "logNode-873a18c7-29d2-4e74-8192-a4bbb3285a9e",
			"target": "finishNode-54fbc720-fc22-4e6f-ac30-8fca161b4263",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-873a18c7-29d2-4e74-8192-a4bbb3285a9e"
		},
		{
			"id": "repeatNode-27827bc4-2f5d-4328-9372-9b3459e8ed84-rrfNode-94706a5c-6c83-4cff-9b86-2116405e98be",
			"type": "default",
			"source": "repeatNode-27827bc4-2f5d-4328-9372-9b3459e8ed84",
			"target": "rrfNode-94706a5c-6c83-4cff-9b86-2116405e98be",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "repeat",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_repeatNode-27827bc4-2f5d-4328-9372-9b3459e8ed84_repeat"
		},
		{
			"id": "rrfNode-94706a5c-6c83-4cff-9b86-2116405e98be-logNode-f9442eb2-431c-4418-ad8a-c8e7bc08547e",
			"type": "default",
			"source": "rrfNode-94706a5c-6c83-4cff-9b86-2116405e98be",
			"target": "logNode-f9442eb2-431c-4418-ad8a-c8e7bc08547e",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_rrfNode-94706a5c-6c83-4cff-9b86-2116405e98be"
		},
		{
			"id": "logNode-f9442eb2-431c-4418-ad8a-c8e7bc08547e-callNode-5a2becba-24bf-48ee-b317-a7268c9ec536",
			"type": "default",
			"source": "logNode-f9442eb2-431c-4418-ad8a-c8e7bc08547e",
			"target": "callNode-5a2becba-24bf-48ee-b317-a7268c9ec536",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-f9442eb2-431c-4418-ad8a-c8e7bc08547e"
		},
		{
			"id": "callNode-5a2becba-24bf-48ee-b317-a7268c9ec536-whenNode-2750493a-9ab0-4440-879f-9491afa5f522",
			"type": "default",
			"source": "callNode-5a2becba-24bf-48ee-b317-a7268c9ec536",
			"target": "whenNode-2750493a-9ab0-4440-879f-9491afa5f522",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_callNode-5a2becba-24bf-48ee-b317-a7268c9ec536"
		},
		{
			"id": "whenNode-2750493a-9ab0-4440-879f-9491afa5f522-logNode-b6b68948-9d9c-4727-9337-12b43845bb81",
			"type": "default",
			"source": "whenNode-2750493a-9ab0-4440-879f-9491afa5f522",
			"target": "logNode-b6b68948-9d9c-4727-9337-12b43845bb81",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "continue",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_whenNode-2750493a-9ab0-4440-879f-9491afa5f522_continue"
		},
		{
			"id": "logNode-b6b68948-9d9c-4727-9337-12b43845bb81-assignmentNode-8bdabd4d-12db-473f-bb52-d78cee2553e0",
			"type": "default",
			"source": "logNode-b6b68948-9d9c-4727-9337-12b43845bb81",
			"target": "assignmentNode-8bdabd4d-12db-473f-bb52-d78cee2553e0",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-b6b68948-9d9c-4727-9337-12b43845bb81"
		},
		{
			"id": "whenNode-2750493a-9ab0-4440-879f-9491afa5f522-logNode-0a77eb07-5f88-4999-a3bd-7c10cf807afd",
			"type": "default",
			"source": "whenNode-2750493a-9ab0-4440-879f-9491afa5f522",
			"target": "logNode-0a77eb07-5f88-4999-a3bd-7c10cf807afd",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "Condition met",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_whenNode-2750493a-9ab0-4440-879f-9491afa5f522_success"
		},
		{
			"id": "logNode-0a77eb07-5f88-4999-a3bd-7c10cf807afd-callNode-1f29991a-c0e2-4407-9d45-a840f3126c0d",
			"type": "default",
			"source": "logNode-0a77eb07-5f88-4999-a3bd-7c10cf807afd",
			"target": "callNode-1f29991a-c0e2-4407-9d45-a840f3126c0d",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-0a77eb07-5f88-4999-a3bd-7c10cf807afd"
		},
		{
			"id": "callNode-1f29991a-c0e2-4407-9d45-a840f3126c0d-assignmentNode-780d5bf4-01e3-4184-bc61-da7c8aeb5934",
			"type": "default",
			"source": "callNode-1f29991a-c0e2-4407-9d45-a840f3126c0d",
			"target": "assignmentNode-780d5bf4-01e3-4184-bc61-da7c8aeb5934",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_callNode-1f29991a-c0e2-4407-9d45-a840f3126c0d"
		},
		{
			"id": "assignmentNode-780d5bf4-01e3-4184-bc61-da7c8aeb5934-whenNode-f2949766-f91b-4907-9592-1f4cdf4885e5",
			"type": "default",
			"source": "assignmentNode-780d5bf4-01e3-4184-bc61-da7c8aeb5934",
			"target": "whenNode-f2949766-f91b-4907-9592-1f4cdf4885e5",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_assignmentNode-780d5bf4-01e3-4184-bc61-da7c8aeb5934"
		},
		{
			"id": "whenNode-f2949766-f91b-4907-9592-1f4cdf4885e5-logNode-f43218b9-8520-45e1-848d-b7c8eea832e4",
			"type": "default",
			"source": "whenNode-f2949766-f91b-4907-9592-1f4cdf4885e5",
			"target": "logNode-f43218b9-8520-45e1-848d-b7c8eea832e4",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "otherwise",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_whenNode-f2949766-f91b-4907-9592-1f4cdf4885e5_otherwise"
		},
		{
			"id": "logNode-f43218b9-8520-45e1-848d-b7c8eea832e4-triggerNode-5fdb9dd7-be8c-4ae9-b41c-96480752f03b",
			"type": "default",
			"source": "logNode-f43218b9-8520-45e1-848d-b7c8eea832e4",
			"target": "triggerNode-5fdb9dd7-be8c-4ae9-b41c-96480752f03b",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-f43218b9-8520-45e1-848d-b7c8eea832e4"
		},
		{
			"id": "triggerNode-5fdb9dd7-be8c-4ae9-b41c-96480752f03b-logNode-16bcb207-eeb3-4de6-bddf-fc0192d4780b",
			"type": "default",
			"source": "triggerNode-5fdb9dd7-be8c-4ae9-b41c-96480752f03b",
			"target": "logNode-16bcb207-eeb3-4de6-bddf-fc0192d4780b",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_triggerNode-5fdb9dd7-be8c-4ae9-b41c-96480752f03b"
		},
		{
			"id": "logNode-16bcb207-eeb3-4de6-bddf-fc0192d4780b-callNode-a0435f70-4603-4519-8106-a45be3e84fba",
			"type": "default",
			"source": "logNode-16bcb207-eeb3-4de6-bddf-fc0192d4780b",
			"target": "callNode-a0435f70-4603-4519-8106-a45be3e84fba",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-16bcb207-eeb3-4de6-bddf-fc0192d4780b"
		},
		{
			"id": "callNode-a0435f70-4603-4519-8106-a45be3e84fba-triggerNode-06407e94-aa62-4a6d-8156-5ca9cbc44e98",
			"type": "default",
			"source": "callNode-a0435f70-4603-4519-8106-a45be3e84fba",
			"target": "triggerNode-06407e94-aa62-4a6d-8156-5ca9cbc44e98",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_callNode-a0435f70-4603-4519-8106-a45be3e84fba"
		},
		{
			"id": "triggerNode-06407e94-aa62-4a6d-8156-5ca9cbc44e98-whenNode-63aa4d16-2632-4e8b-aa18-61e62988ec4f",
			"type": "default",
			"source": "triggerNode-06407e94-aa62-4a6d-8156-5ca9cbc44e98",
			"target": "whenNode-63aa4d16-2632-4e8b-aa18-61e62988ec4f",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_triggerNode-06407e94-aa62-4a6d-8156-5ca9cbc44e98"
		},
		{
			"id": "whenNode-63aa4d16-2632-4e8b-aa18-61e62988ec4f-finishNode-d3a08f43-d937-47d3-bd13-5442bae89795",
			"type": "default",
			"source": "whenNode-63aa4d16-2632-4e8b-aa18-61e62988ec4f",
			"target": "finishNode-d3a08f43-d937-47d3-bd13-5442bae89795",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "otherwise",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_whenNode-63aa4d16-2632-4e8b-aa18-61e62988ec4f_otherwise"
		},
		{
			"id": "whenNode-63aa4d16-2632-4e8b-aa18-61e62988ec4f-finishNode-67d8e124-15a2-4e17-bdee-ee8e1cc5b159",
			"type": "default",
			"source": "whenNode-63aa4d16-2632-4e8b-aa18-61e62988ec4f",
			"target": "finishNode-67d8e124-15a2-4e17-bdee-ee8e1cc5b159",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "Condition met",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_whenNode-63aa4d16-2632-4e8b-aa18-61e62988ec4f_success"
		},
		{
			"id": "whenNode-f2949766-f91b-4907-9592-1f4cdf4885e5-logNode-d172a3f5-eda9-4f27-8855-10774ae37db0",
			"type": "default",
			"source": "whenNode-f2949766-f91b-4907-9592-1f4cdf4885e5",
			"target": "logNode-d172a3f5-eda9-4f27-8855-10774ae37db0",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "Condition met",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_whenNode-f2949766-f91b-4907-9592-1f4cdf4885e5_success"
		},
		{
			"id": "logNode-d172a3f5-eda9-4f27-8855-10774ae37db0-triggerNode-5b30962d-90c8-4db9-accf-bfdeb4fe6a67",
			"type": "default",
			"source": "logNode-d172a3f5-eda9-4f27-8855-10774ae37db0",
			"target": "triggerNode-5b30962d-90c8-4db9-accf-bfdeb4fe6a67",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-d172a3f5-eda9-4f27-8855-10774ae37db0"
		},
		{
			"id": "triggerNode-5b30962d-90c8-4db9-accf-bfdeb4fe6a67-logNode-eef22c0a-596d-4ba9-bc7c-622ae5ac8a58",
			"type": "default",
			"source": "triggerNode-5b30962d-90c8-4db9-accf-bfdeb4fe6a67",
			"target": "logNode-eef22c0a-596d-4ba9-bc7c-622ae5ac8a58",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_triggerNode-5b30962d-90c8-4db9-accf-bfdeb4fe6a67"
		},
		{
			"id": "logNode-eef22c0a-596d-4ba9-bc7c-622ae5ac8a58-whenNode-241aaf48-1ce0-441a-8381-060ba52649a5",
			"type": "default",
			"source": "logNode-eef22c0a-596d-4ba9-bc7c-622ae5ac8a58",
			"target": "whenNode-241aaf48-1ce0-441a-8381-060ba52649a5",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-eef22c0a-596d-4ba9-bc7c-622ae5ac8a58"
		},
		{
			"id": "whenNode-241aaf48-1ce0-441a-8381-060ba52649a5-finishNode-f2c7606d-eb2f-47af-ad22-af0047c68f1b",
			"type": "default",
			"source": "whenNode-241aaf48-1ce0-441a-8381-060ba52649a5",
			"target": "finishNode-f2c7606d-eb2f-47af-ad22-af0047c68f1b",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "otherwise",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_whenNode-241aaf48-1ce0-441a-8381-060ba52649a5_otherwise"
		},
		{
			"id": "whenNode-241aaf48-1ce0-441a-8381-060ba52649a5-finishNode-34c383cb-b96d-4992-a5f3-d1f3987d63f3",
			"type": "default",
			"source": "whenNode-241aaf48-1ce0-441a-8381-060ba52649a5",
			"target": "finishNode-34c383cb-b96d-4992-a5f3-d1f3987d63f3",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "Condition met",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_whenNode-241aaf48-1ce0-441a-8381-060ba52649a5_success"
		}
	],
	"viewport": {
		"x": 0,
		"y": 0,
		"zoom": 1
	}
}